<!DOCTYPE html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <title>input 弹出键盘</title>
  <style type="text/css">
  .comment-button {
    background: #fff;
    border: 1px solid #eee;
    bottom: 0;
    font-size: 14px;
    height: 30px;
    line-height: 30px;
    padding-left: 10px;
    position: fixed;
    width: 100%;
    cursor: text;
  }

  .cover {
    background-color: #000;
    display: none;
    height: 100%;
    left: 0;
    opacity: 0.3;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
  }

  .comment-box {
    background: #fff;
    bottom: 0;
    display: none;
    left: 0;
    padding: 10px;
    position: fixed;
    text-align: center;
    width: 100%;
    z-index: 10013;
  }

  .input {
    border: 1px solid #eee;
    bottom: 0;
    height: 30px;
    left: 0;
    line-height: 30px;
    padding-left: 10px;
    position: relative;
    width: 100%;
  }
  </style>
</head>

<body>
  <div class="content">
    <pre>
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
  </pre>
  </div>
  <div class="comment-button" onclick="addComment()">添加评论…</div>
  <div class="cover" onclick="hideComment()"></div>
  <div class="comment-box">
    <input type="text" autofocus="autofocus" class="input" placeholder="添加评论…" />
    <img src="https://raw.githubusercontent.com/summervibe/summer-vibe/master/loading.gif" style="width:30px;height: 30px;" />
    <br />
    <img src="https://raw.githubusercontent.com/summervibe/summer-vibe/master/loading.gif" style="width:30px;height: 30px;" />
    <br />
    <img src="https://raw.githubusercontent.com/summervibe/summer-vibe/master/loading.gif" style="width:30px;height: 30px;" />
  </div>
  <script>
  var status = 1;
  document.addEventListener("touchmove", function(e) {
    if (parseInt(status) === 0) {
      e.preventDefault();
      e.stopPropagation();
    }
  }, false);

  function addComment() {
    status = 0;
    document.body.style.overflow = 'hidden';
    document.getElementsByClassName('comment-button')[0].style.display = 'none';

    document.getElementsByClassName('cover')[0].style.display = 'block';
    document.getElementsByClassName('comment-box')[0].style.display = 'block';
    document.getElementsByClassName('input')[0].focus();
  }

   function hideComment() {
    status = 1;
    document.body.style.overflow = 'visible';
    document.getElementsByClassName('comment-button')[0].style.display = 'block';

    document.getElementsByClassName('cover')[0].style.display = 'none';
    document.getElementsByClassName('comment-box')[0].style.display = 'none';
    document.getElementsByClassName('input')[0].blur();
  }

  // $(function() {
  //   $('.comment-button').click(function() {
  //     status = 0;
  //     $('body').css('overflow', 'hidden');
  //     $('.comment-button').hide();
  //     $('.cover').show();
  //     $('.comment-box').show();
  //     $('.input').focus();
  //     setInterval(function() {
  //       $('.input')[0].scrollIntoView(false);
  //     }, 200);
  //   });

  //   $('.cover').click(function() {
  //     status = 1;
  //     $('html, body').css('overflow', 'visible');
  //     $('.comment-button').show();
  //     $('.cover').hide();
  //     $('.comment-box').hide();
  //   });
  // });
  </script>
</body>

</html>