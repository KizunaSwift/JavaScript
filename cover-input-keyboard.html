<!DOCTYPE html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <title>custom input keyboard</title>
  <style type="text/css">
  * {
    margin: 0;
    padding: 0;
  }

  .comment-button {
    position: fixed;
    background: #fff;
    border: 1px solid #eee;
    left: 10px;
    right: 10px;
    bottom: 0;
    font-size: 14px;
    height: 30px;
    line-height: 30px;
    width: calc(100% - 20px);
    cursor: text;
  }

  .cover {
    background-color: #000;
    display: none;
    height: 100%;
    left: 0;
    opacity: 0.3;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
  }

  .comment-box {
    position: fixed;
    background: #fff;
    left: 0;
    right: 0;
    bottom: 0;
    display: none;
    padding: 10px;
    text-align: center;
    width: calc(100% - 20px);
    z-index: 10013;
  }

  .input {
    position: relative;
    border: 1px solid #eee;
    bottom: 0;
    height: 30px;
    left: 0;
    line-height: 30px;
    width: 100%;
  }
  </style>
</head>

<body>
  <div class="content">
    <pre>
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
    这里是内容
  </pre>
  </div>
  <div class="comment-button" onclick="addComment()">添加评论…</div>
  <div class="cover" onclick="hideComment()"></div>
  <div class="comment-box">
    <input type="text" autofocus="autofocus" class="input" placeholder="添加评论…" onblur="handleBlur()" />
    <img src="https://raw.githubusercontent.com/KizunaSwift/JavaScript/master/loading.gif" style="width:30px;height: 30px;" />
    <br />
    <img src="https://raw.githubusercontent.com/KizunaSwift/JavaScript/master/loading.gif" style="width:30px;height: 30px;" />
    <br />
    <img src="https://raw.githubusercontent.com/KizunaSwift/JavaScript/master/loading.gif" style="width:30px;height: 30px;" />
  </div>
  <script>
  var status = 1;
  document.addEventListener("touchmove", function(e) {
    if (status == 0) {
      e.preventDefault();
      e.stopPropagation();
    }
  }, false);

  function addComment() {
    status = 0;
    document.body.style.overflow = 'hidden';
    document.getElementsByClassName('comment-button')[0].style.display = 'none';

    document.getElementsByClassName('cover')[0].style.display = 'block';
    document.getElementsByClassName('comment-box')[0].style.display = 'block';
    document.getElementsByClassName('input')[0].focus();
  }

  function hideComment() {
    status = 1;
    document.body.style.overflow = 'visible';
    document.getElementsByClassName('comment-button')[0].style.display = 'block';

    document.getElementsByClassName('cover')[0].style.display = 'none';
    document.getElementsByClassName('comment-box')[0].style.display = 'none';
    document.getElementsByClassName('input')[0].blur();
  }

  function handleBlur() {
    console.log('blur...');
  }
  </script>
</body>

</html>